(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(7947)}])},7947:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return oe}});var a=t(5893),r=t(3301),o=t.n(r),s=t(7568),i=t(4924),c=t(2670),u=t(6042),l=t(9396),d=t(4051),m=t.n(d),f=t(9008),p=t.n(f),v=t(8416),h=t.n(v),g=function(e){var n=e.baseURL,t=e.fetch,a=(void 0===n?"":n).replace(/\/$/,""),r="/answers",o="/dbConnection",s="/localPath",i="/status",c="GET",u="POST",l="PATCH";return{answers:{get:function(e){return t(a,r,c,e).json()},$get:function(e){return t(a,r,c,e).json().then((function(e){return e.body}))},patch:function(e){return t(a,r,l,e).send()},$patch:function(e){return t(a,r,l,e).send().then((function(e){return e.body}))},$path:function(){return"".concat(a).concat(r)}},dbConnection:{post:function(e){return t(a,o,u,e).json()},$post:function(e){return t(a,o,u,e).json().then((function(e){return e.body}))},$path:function(){return"".concat(a).concat(o)}},localPath:{post:function(e){return t(a,s,u,e).json()},$post:function(e){return t(a,s,u,e).json().then((function(e){return e.body}))},$path:function(){return"".concat(a).concat(s)}},status:{get:function(e){return t(a,i,c,e).json()},$get:function(e){return t(a,i,c,e).json().then((function(e){return e.body}))},$path:function(){return"".concat(a).concat(i)}}}},b=function(){return g(h()(void 0,{baseURL:"/api"}))},y=t(7294),_=t(1438),x=t(2951),j=t(8029),S=t(6567),P=function(e){(0,j.Z)(a,e);var n=(0,S.Z)(a);function a(e){var t;return(0,_.Z)(this,a),(t=n.call(this,e)).$=y.createRef(),t._=y.createRef(),t}return(0,x.Z)(a,[{key:"render",value:function(){return y.createElement("span",{ref:this.$},y.createElement("a",(0,l.Z)((0,u.Z)({},this.props),{ref:this._}),this.props.children))}},{key:"componentDidMount",value:function(){this.paint()}},{key:"getSnapshotBeforeUpdate",value:function(){return this.reset(),null}},{key:"componentDidUpdate",value:function(){this.paint()}},{key:"componentWillUnmount",value:function(){this.reset()}},{key:"paint",value:function(){var e=this,n=this.$.current.appendChild(document.createElement("span"));Promise.resolve().then(t.bind(t,9984)).then((function(t){(0,t.render)(n.appendChild(e._.current),(function(e){try{n.parentNode.replaceChild(e,n)}catch(t){}}))}))}},{key:"reset",value:function(){this.$.current.replaceChild(this._.current,this.$.current.lastChild)}}]),a}(y.PureComponent),A=t(4182),w=t.n(A),N=function(e){var n=e.disabled,t=e.onClick,r=e.children;return(0,a.jsx)("div",{className:w().container,children:(0,a.jsx)("button",{className:"".concat(w().btn).concat(n?" ".concat(w().disabled):""),onClick:n?function(){}:t,children:r})})},k=t(6009),I=t.n(k),E=t(4431),C=new(t.n(E)());C.use_classes=!0;var T,D,H,R=function(e){var n=e.log,t=e.rounded,r=(0,y.useState)(""),o=r[0],s=r[1],i=(0,y.useMemo)((function(){return C.ansi_to_html(null!==o&&void 0!==o?o:"")}),[o]),c=(0,y.useState)(!0),u=c[0],l=c[1],d=(0,y.useRef)(null);return o!==n&&(d.current&&l(d.current.offsetHeight+d.current.scrollTop>d.current.scrollHeight-20),s(null!==n&&void 0!==n?n:"")),(0,y.useEffect)((function(){var e;d.current&&u&&(e=d.current).scrollTo(0,e.scrollHeight)}),[o]),(0,a.jsx)("pre",{ref:d,className:"".concat(I().container," ").concat(t?I().rounded:""),dangerouslySetInnerHTML:{__html:i}})},O=t(828),L=t(1557),M=t(2839),q=t.n(M),B=t(3346),Z=t(705),$=t.n(Z),U=function(e){return(0,a.jsx)(B.D,{linkTarget:"_brank",children:e.en})},G=function(e,n){return(0,L.ST)({onUpdate:function(n){"number"===typeof n&&(e.style.opacity=String(n))},delay:50*n})},Q=function(e){var n,t,r=e.answers,o=e.question,s=e.touched,i=e.onChoice,c=e.addError,u=e.onTouch;return(0,a.jsx)(L.$3,{flipId:"question-".concat(o.name),onAppear:G,stagger:!0,children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"".concat(q().message," ").concat((null!==(n=o.valid)&&void 0!==n?n:r[o.name])&&"string"!==typeof c||!s?"":q().error),children:o.message}),(0,a.jsx)("div",{className:q().ctrls,children:(0,a.jsx)("input",{type:"text",value:null!==(t=r[o.name])&&void 0!==t?t:"",onChange:function(e){return null===i||void 0===i?void 0:i(o.name,e.target.value)},onFocus:function(){return null===u||void 0===u?void 0:u()},onInput:function(){return null===u||void 0===u?void 0:u()}})})]})})},F=function(e){var n,t,r=e.answers,o=e.question,s=e.touched,i=e.addError,c=e.onChoice,u=o.choices.filter((function(e){return e.value===r[o.name]}))[0];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(L.$3,{flipId:"question-".concat(o.name),onAppear:G,stagger:!0,children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"".concat(q().message," ").concat((u.disabled||"string"===typeof i)&&s?q().error:""),children:o.message}),(0,a.jsx)("div",{className:q().ctrls,children:o.choices.map((function(e,n){return(0,a.jsxs)("button",{className:"".concat(q().btn).concat((null!==(t=r[o.name])&&void 0!==t?t:o.default)===e.value?" ".concat(q().active):"").concat(e.disabled?" ".concat(q().disabled):""),onClick:function(){return e.disabled||(null===c||void 0===c?void 0:c(o.name,e.value))},children:[(0,a.jsx)("div",{className:q().radioIcon}),(0,a.jsx)("div",{children:e.name}),e.disabled&&(0,a.jsx)("div",{className:q().hint,children:U(e.disabled)})]},n)}))})]})}),null===u||void 0===u||null===(n=u.notes)||void 0===n?void 0:n.map((function(e,n){return(0,a.jsx)(L.$3,{flipId:"note-".concat($()(e)),onAppear:G,stagger:!0,children:(0,a.jsx)("div",{className:"".concat(q().note," ").concat(q()[e.severity]),tabIndex:0,children:U(e.text)},n)},n)}))]})},W=function(e){var n=e.question,t=e.addInfo,r=e.addError;return(0,a.jsxs)("div",{className:q().card,children:["input"===n.type?(0,a.jsx)(Q,(0,l.Z)((0,u.Z)({},e),{question:n})):(0,a.jsx)(F,(0,l.Z)((0,u.Z)({},e),{question:n})),[[t,"info"],[r,"error"]].map((function(e){var t=(0,O.Z)(e,2),r=t[0],o=t[1];return"string"===typeof r&&(0,a.jsx)(L.$3,{flipId:"question-".concat(n.name,"-add-").concat(o),onAppear:G,stagger:!0,children:(0,a.jsx)("div",{className:"".concat(q().note," ").concat(q()[o]),tabIndex:0,children:r})},o)}))]})},Y=t(214),z=t.n(Y),V=t(9815),J=[{name:"dir",message:"Directory name (create new)",type:"input"},{name:"server",message:"Server engine",type:"list",choices:[{name:"Fastify (5x faster)",value:"fastify"},{name:"Express",value:"express"}],default:"fastify"},{name:"client",message:"Client framework",choices:[{name:"Next.js (React)",value:"next"},{name:"Nuxt.js (Vue)",value:"nuxt"},{name:"Sapper (Svelte)",value:"sapper"}],type:"list",default:"next"},{name:"building",message:"Building mode",type:"list",choices:[{name:"Static (export)",value:"static"},{name:"Basic (build)",value:"basic"}],default:"static",when:function(e){return"next"===e.client||"sapper"===e.client}},{name:"mode",message:"Rendering mode",type:"list",choices:[{name:"Single Page App",value:"spa"},{name:"Universal (SSR / SSG)",value:"universal"}],default:"spa",when:function(e){return"nuxt"===e.client}},{name:"target",message:"Deployment target",type:"list",choices:[{name:"Static (JAMStack hosting)",value:"static"},{name:"Server (Node.js hosting)",value:"server"}],default:"static",when:function(e){return"nuxt"===e.client}},{name:"aspida",message:"HTTP client of aspida",choices:[{name:"axios",value:"axios"},{name:"fetch",value:"fetch"}],type:"list",default:"axios"},{name:"reactHooks",message:"React Hooks for data fetching",type:"list",choices:[{name:"SWR",value:"swr"},{name:"React Query",value:"query"},{name:"None",value:"none"}],default:"swr",when:function(e){return"next"===e.client}},{name:"daemon",message:"Daemon process manager",choices:[{name:"PM2",value:"pm2"},{name:"None",value:"none"}],type:"list",default:"pm2"},{name:"orm",message:"O/R mapping tool",choices:[{name:"Prisma (recommended)",value:"prisma"},{name:"TypeORM",value:"typeorm"},{name:"None",value:"none"}],type:"list",default:"prisma"},{name:"db",message:function(e){return"Database type of ".concat(null!==(D={prisma:"Prisma",typeorm:"TypeORM"}[null!==(T=e.orm)&&void 0!==T?T:""])&&void 0!==D?D:"")},choices:[{name:"SQLite",value:"sqlite",disabled:function(e){return"typeorm"===e.orm?{en:"Preparing SQLite support for TypeORM"}:null}},{name:"MySQL",value:"mysql"},{name:"PostgreSQL",value:"postgresql"}],type:"list",default:"sqlite",when:function(e){return"none"!==e.orm}},{name:"skipDbChecks",message:"Skip DB connection checks",choices:[{name:"No",value:"false"},{name:"Yes",value:"true"}],type:"list",default:"false",when:function(e){return"none"!==e.orm&&"sqlite"!==e.db}}].concat((0,V.Z)(["postgresql","mysql"].flatMap((function(e){return[["Host","HOST"],["Port","PORT"],["Name","DATABASE"],["User","USERNAME"],["Pass","PASSWORD"]].map((function(n){var t=(0,O.Z)(n,2),a=t[0],r=t[1];return{name:"".concat(e,"Db").concat(a),message:function(n){var t;return"prisma"===n.orm?"dev DB ".concat(r,": server/prisma/.env API_DATABASE_URL (").concat(ee((0,l.Z)((0,u.Z)({},n),(t={},(0,i.Z)(t,"".concat(e,"Db").concat(a),n["".concat(e,"Db").concat(a)]||"HERE"),(0,i.Z)(t,"".concat(e,"DbPass"),n["".concat(e,"DbPass")]?"***":"Pass"===a?"HERE":""),t))),") ="):"dev DB: server/.env TYEPORM_".concat(r," =")},type:"input",default:function(){switch(a){case"Host":return"localhost";case"Port":return"mysql"===e?"3306":"5432";default:return}}(),valid:function(n){if("true"===n.skipDbChecks)return!0;var t=n["".concat(e,"Db").concat(a)];switch(a){case"Port":return/[1-9]\d*/.test(t)&&1<=+t&&+t<=65353;case"Pass":return!0;default:return Boolean(t)}},when:function(n){return"none"!==n.orm&&n.db===e}}}))}))),[{name:"sqliteDbFile",message:"server/prisma/.env DATABASE_FILE=",type:"input",default:"./dev.db",when:function(e){return"none"!==e.orm&&"sqlite"===e.db},valid:function(e){var n;return"true"===e.skipDbChecks||""!==(null!==(n=e.sqliteDbFile)&&void 0!==n?n:"")}},{name:"testing",message:"Testing framework",choices:[{name:"Jest",value:"jest"},{name:"None",value:"none"}],type:"list",default:"jest"},{name:"pm",message:"Package manager",choices:[{name:"Npm",value:"npm"},{name:"Yarn",value:"yarn"}],type:"list",default:"npm"},{name:"ci",message:"CI config",choices:[{name:"GitHub Actions",value:"actions"},{name:"None",value:"none"}],type:"list",default:"actions"},{name:"deployServer",message:"API server hosting",choices:[{name:"Dedicated server",value:"pm2",disabled:function(e){return"typeorm"===e.orm?{en:"Preparing to support TypeORM"}:"pm2"!==e.daemon?{en:"Select **PM2** for process manager"}:"actions"!==e.ci?{en:"Select **GitHub Actions** for CI"}:null},notes:function(e){return[{severity:"info",text:{en:["This uses [PM2](https://pm2.io) to deploy to your dedicated servers, cloud servers or VM instances.","","Ensure the server is installed `git` and `node`.","","### GitHub Actions Secrets","","Add following secrets.","","- **API_BASE_PATH**: Your API basepath. e.g. `/api`","- **API_DATABASE_URL**: ".concat({sqlite:"Production URL for SQLite. e.g. `file:///mnt/efs-data/db.sqlite`",mysql:"Production URL for MySQL. e.g. `mysql://mysql-instance1.123456789012.us-east-1.rds.amazonaws.com:3306`",postgresql:"Production URL for Postgres. e.g. `postgres://myinstance.123456789012.us-east-1.rds.amazonaws.com:5432`"}[null!==(H=e.db)&&void 0!==H?H:""],"."),"- **API_DEPLOY_HOST**: Dedicated server host. e.g. `ec2-public-ipv4-address.compute-1.amazonaws.com`","- **API_DEPLOY_USER**: SSH username. e.g. `ci`","- **API_DEPLOY_SSH_KEY**: SSH private key that can connect to the above host. e.g.","  a. Run `ssh-keygen -t rsa -b 4096 -m PEM -f frourio-ci.key` on your local machine.","  b. Copy contents of `frourio-ci.key` and paste it to this secrets value.","  c. Send `frourio-ci.key.pub` to your host machine, and append it to `~/.ssh/known_hosts` on remote host.","- **API_UPLOAD_DIR**: The directory to upload user contents, for example icons. e.g. `/mnt/efs-1/upload`, `/srv/upload`","  - In default sample, it is used to save uploaded icons."].join("\n")}}]}},{name:"Serverless",value:"serverless",disabled:function(e){return"fastify"===e.server?{en:"Fastify does not benefit for serverless environment"}:"typeorm"===e.orm?{en:"Preparing to support TypeORM"}:"none"===e.orm?{en:"Preparing to support no ORM"}:"actions"!==e.ci?{en:"Select **GitHub Actions** for CI"}:null}},{name:"None",value:"none"}],type:"list",default:"none"},{name:"deployBranch",message:"Branch name to deploy",type:"input",default:"main"},{name:"serverSourcePath",message:"Path to place server source",type:"input",default:"/opt/apiserver",when:function(e){return"pm2"===e.deployServer},notes:[{severity:"info",text:{en:["API_DEPLOY_USER"].join("\n")}}]},{name:"staticHosting",message:"Static hosting service",choices:[{name:"GitHub Pages",value:"pages",disabled:function(e){return"actions"!==e.ci?{en:"Select **GitHub Actions** for CI"}:null},notes:[{severity:"info",text:{en:["### GitHub Actions Secrets","","Add following secrets.","","- **API_ORIGIN**: API origin. e.g. `https://api.my-frourio-app.example`","- **API_BASE_PATH**: API basepath. e.g. `/api`","- _Optional_ **GH_PAGES_BASE_PATH**: Client hosting basepath.","  - If omitted, GitHub repository name will be used. This is because GitHub hosts Pages at _github-username_.github.io/_repository-name_ with default settings.","  - You can also use custom domain. When doing so, it is needed to use that basename. Set this `/` to host your client from root routing."].join("\n")}}]},{name:"Vercel",value:"vercel",notes:function(e){return[{severity:"info",text:{en:["### Deploy to Vercel","","1. Visit [vercel.com](https://vercel.com) and create new project.","2. Set **BUILD COMMAND** to `"+e.pm+" run build:client`.","3. Add environment variables **API_BASE_PATH** and **API_ORIGIN**."].join("\n")}}]}},{name:"Netlify",value:"netlify",notes:function(e){return[{severity:"info",text:{en:["### Deploy to Netlify","","1. Visit [app.netlify.com](https://app.netlify.com) and create new project.","2. Go to **Site Settings** > **Build & Deploy**","  a. Set **Repository** to your remote repository","  b. Set **Build command** to `"+e.pm+" run build:client`","  c. Set **Publish directory** to `out/`","3. Go to **Site Settings** > **Build & Deploy** > **Environment**","  a. Add environment variables **API_ORIGIN** and **API_BASE_PATH**."].join("\n")}}]}},{name:"None",value:"none"}],type:"list",default:"pages"},{name:"serverless",message:"Serverless service",when:function(e){return"serverless"===e.deployServer},choices:[{name:"AWS Lambda",value:"lambda",disabled:function(e){return"actions"!==e.ci?{en:"Select **GitHub Actions** for CI"}:null},notes:function(){return[{severity:"warn",text:{en:["Little difficult option for beginners.","You can find more concrete example [here](https://github.com/LumaKernel/frourio-sample-1/tree/master/infra).","","To develop serverless applications, you should consider how huge are the modules and bundled files.","Please note that AWS Lambda has [the size limit](https://docs.aws.amazon.com/lambda/latest/dg/gettingstarted-limits.html) **250MB**."].join("\n")}},{severity:"info",text:{en:["### Deploy to AWS Lambda","","At least, you should prepare following for deploying to AWS Lambda.","","- [Lambda function](https://aws.amazon.com/lambda/) to respond to user requests.","  - Set this Lambda's name to GitHub Actions Secrets **LAMBDA_FUNCTION_NAME_SERVER**","- [Lambda function](https://aws.amazon.com/lambda/) to run migrations.","  - Set this Lambda's name to GitHub Actions Secrets **LAMBDA_FUNCTION_NAME_MIGRATION**","  - NOTE: Recommended to set longer time limit.","- [Amazon S3](https://aws.amazon.com/s3/) to upload deployment artifacts like built bundle scripts and _node\\_modules_.","  - Set this S3's bucket name to GitHub Actions Secrets **S3_BUCKET**","  - _Optional_: To specify the S3 key prefix, also add **S3_PREFIX** to secrets. e.g. `deployments/`","  - To elaborate, the key `${S3_BUCKET}/${S3_PREFIX}deployment_server.zip` is used to store the data."].join("\n")}}]}}],type:"list",default:"lambda"}]),K=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:J;if(null===n)return n;if(Array.isArray(n))return n.map((function(n){return K(e,n)})).filter((function(e){return void 0!==e}));if("object"===typeof n){var t={},a=!0,r=!1,o=void 0;try{for(var s,i=Object.getOwnPropertyNames(n)[Symbol.iterator]();!(a=(s=i.next()).done);a=!0){var c=s.value;void 0!==n[c]&&(t[c]=K(e,n[c]))}}catch(u){r=!0,o=u}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}if(!1===t.when)return;return t}return"function"===typeof n?n(e):n},X=function(){var e={};return J.forEach((function(n){return e[n.name]=n.default})),e},ee=function(e){var n=function(e){var n={};return e.db&&"none"!==e.db&&"sqlite"!==e.db&&["Host","Port","Name","User","Pass"].forEach((function(t){n["db".concat(t)]=e["".concat(e.db,"Db").concat(t)]||""})),n}(e);if(e.db&&"none"!==e.db)return"sqlite"===e.db?"file:".concat(e.sqliteDbFile):"".concat(e.db,"://").concat(n.dbUser,":").concat(n.dbPass,"@").concat(n.dbHost,":").concat(n.dbPort,"/").concat(n.dbName)},ne=function(e){return'^"'+e.replace(/[&|<>()^%]/g,(function(e){return e+"^"})).replace(/\\+"/g,(function(e){return e.slice(0,-1).repeat(2)+'"'})).replace(/"/g,'\\^"')+'^"'},te=function(e){var n=e.value,t=(0,y.useRef)(null);return(0,a.jsx)("input",{ref:t,style:{width:"100%"},onClick:function(){t.current&&t.current.select()},type:"text",value:n,readOnly:!0})},ae=function(){return(0,a.jsxs)("div",{className:z().star,children:[(0,a.jsx)("img",{src:"/images/star.svg",alt:"star"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:z().starDesc,children:["Do you like frourio?",(0,a.jsx)("br",{}),"I'd love it if you starred!"]}),(0,a.jsx)(P,{href:"https://github.com/frouriojs/frourio","data-icon":"octicon-star","data-size":"large","data-show-count":!0,"aria-label":"Star frouriojs/frourio on GitHub",children:"Star"})]})]})},re=function(e){var n=e.serverStatus,t=e.mutate,r=e.useServer,o=(0,y.useState)({}),d=o[0],f=o[1],v=(0,y.useState)(),h=v[0],g=v[1],_=(0,y.useState)(!1),x=_[0],j=_[1],S=(0,y.useState)(""),P=S[0],A=S[1],w=(0,y.useState)(!1),k=w[0],I=w[1],E=(0,y.useState)(!1),C=E[0],T=E[1],D=(0,y.useState)(),H=D[0],O=D[1],M=(0,y.useState)(!0),B=M[0],Z=M[1],U=(null!==n&&void 0!==n?n:{}).clientPort,G=(null!==h&&void 0!==h?h:{}).dir,Q=U&&"http://localhost:".concat(U);(0,y.useEffect)((function(){if(r){var e="",n=new WebSocket("ws://".concat(location.host,"/ws/"));return n.onmessage=function(){var n=(0,s.Z)(m().mark((function n(t){var a;return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(0,c.Z)(t.data,Blob)){n.next=6;break}return n.next=3,t.data.text();case 3:n.t0=n.sent,n.next=7;break;case 6:n.t0=String(t.data);case 7:a=n.t0,A(e+=a);case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),function(){return n.close()}}}),[]),(0,y.useEffect)((function(){if(r){var e=new WebSocket("ws://".concat(location.host,"/ws/ready/")),n="";return e.onmessage=function(){var e=(0,s.Z)(m().mark((function e(t){var a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,c.Z)(t.data,Blob)){e.next=6;break}return e.next=3,t.data.text();case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=String(t.data);case 7:a=e.t0,n+=a,a&&n.startsWith("ready")&&T(!0);case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),function(){return e.close()}}}),[]);var F=(0,y.useMemo)((function(){return h&&function(e){var n=X();return K((0,u.Z)({},n,e))}(h)}),[h]),Y=(0,y.useMemo)((function(){return h&&function(e){return K(e).every((function(n){var t,a,r=e[n.name],o=n.valid;if(void 0!==o)return o;if("list"===n.type)return!1===(null!==(a=null===(t=n.choices.filter((function(e){return e.value===r}))[0])||void 0===t?void 0:t.disabled)&&void 0!==a&&a);if("input"===n.type)return!!r;throw new Error("el.type is illegal")}))}(h)}),[h]),V=(0,y.useCallback)((function(e,n){return g((0,l.Z)((0,u.Z)({},X(),h),(0,i.Z)({},e,n)))}),[h]),J=!0,ee=(0,y.useMemo)((function(){return r&&b()}),[J,r]);r&&ee&&ee.answers.get().then((function(e){h||g((0,u.Z)({},X(),e.body))}));var re,oe,se=(0,y.useCallback)((0,s.Z)(m().mark((function e(){var n,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(!0),ee&&Y&&h){e.next=4;break}return alert("Cannot proceed because conditions are not met. Please review your configurations."),e.abrupt("return");case 4:return e.next=6,ee.localPath.$post({body:{path:G||""}});case 6:if(n=e.sent,O(n),Z(!1),null===n.canContinue){e.next=12;break}return alert(n.canContinue),e.abrupt("return");case 12:return e.next=14,ee.dbConnection.$post({body:h});case 14:if((a=e.sent).enabled){e.next=17;break}return e.abrupt("return",alert("Failed to connect to database:\n\n".concat(a.err)));case 17:return e.next=19,ee.answers.$patch({body:h});case 19:null===t||void 0===t||t(),j(!0);case 21:case"end":return e.stop()}}),e)}))),[ee,h,Y]);return h||g((0,u.Z)({},X())),"installing"!==(null===n||void 0===n?void 0:n.status)||x||j(!0),(0,y.useEffect)((function(){var e=!1;return Z(!0),"string"===typeof G?ee&&ee.localPath.$post({body:{path:G}}).then((function(n){e||(O(n),Z(!1))})):O(void 0),function(){e=!0}}),[G,J,ee]),(0,a.jsxs)(L.U5,{flipKey:"".concat(k?"closed:":"open:").concat($()(h||{})).concat($()(H||{})),children:[(0,a.jsxs)(p(),{children:[(0,a.jsx)("title",{children:"create-frourio-app"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.png"})]}),(0,a.jsx)("img",{src:"/images/logo.svg",alt:"Frourio Logo",className:z().logo}),(0,a.jsxs)("main",{className:z().main,children:[(0,a.jsxs)("h1",{className:z().title,children:["Welcome to"," ",(0,a.jsx)("a",{href:"https://github.com/frouriojs/frourio",target:"_brank",children:"frourio!"})]}),(0,a.jsx)("p",{className:z().description,children:"create-frourio-app"}),(0,a.jsx)("div",{children:null===F||void 0===F?void 0:F.map((function(e){return h&&(0,a.jsx)(W,{answers:h,question:e,onChoice:V,touched:!0===d||null!==(re=d[e.name])&&void 0!==re&&re,addError:"dir"===e.name&&(null===H||void 0===H?void 0:H.canContinue),addInfo:"dir"===e.name&&(null===H||void 0===H?void 0:H.absPath),onTouch:function(){!0!==d&&f((0,l.Z)((0,u.Z)({},d),(0,i.Z)({},e.name,!0)))}},e.name)}))}),!r&&(0,a.jsx)(L.$3,{flipId:"manual-install",stagger:!0,children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:q().card,children:[(0,a.jsx)("h4",{className:q().message,children:"Shell"}),(0,a.jsx)("div",{className:q().ctrls,children:(0,a.jsx)(te,{value:h&&"".concat("yarn"===h.pm?"yarn create frourio-app":"npm init frourio-app"," --answers ").concat((oe=JSON.stringify(h),"'"+oe.replace(/'/g,"'\"'\"'").replace(/\\/g,"'\"\\\\\"'")+"'"))})})]}),(0,a.jsxs)("div",{className:q().card,children:[(0,a.jsx)("h4",{className:q().message,children:"Command Prompt"}),(0,a.jsx)("div",{className:q().ctrls,children:(0,a.jsx)(te,{value:h&&"".concat("yarn"===h.pm?"yarn create frourio-app":"npm init frourio-app"," --answers ").concat(ne(JSON.stringify(h)))})})]})]})}),k&&"installing"===(null===n||void 0===n?void 0:n.status)&&(0,a.jsx)(L.$3,{flipId:"flip-console",stagger:!0,children:(0,a.jsx)("div",{children:(0,a.jsx)(R,{log:P,rounded:!0})})}),"installing"===(null===n||void 0===n?void 0:n.status)&&(0,a.jsx)(L.$3,{flipId:"open-button",stagger:!0,children:(0,a.jsx)("div",{children:(0,a.jsx)("div",{style:{marginTop:"16px"},children:(0,a.jsxs)(N,{onClick:function(){Q&&window.open(Q,"_blank")},disabled:!C,children:["Open ",Q]})})})}),k&&"installing"===(null===n||void 0===n?void 0:n.status)&&(0,a.jsx)(L.$3,{flipId:"credits",stagger:!0,children:(0,a.jsx)("div",{children:(0,a.jsx)(ae,{})})})]}),r&&"waiting"===(null===n||void 0===n?void 0:n.status)&&(0,a.jsx)(L.$3,{flipId:"create-button",stagger:!0,children:(0,a.jsx)("div",{style:{marginTop:"16px"},children:(0,a.jsx)(N,{onClick:se,disabled:!Y&&!0===d||B||null!==(null===H||void 0===H?void 0:H.canContinue),children:"Create"})})}),r&&(0,a.jsxs)("div",{className:z().contribution,children:[(0,a.jsx)("img",{src:"/images/contribution.svg",alt:"contribution"}),(0,a.jsxs)("div",{children:["Can you align the center line shift?",(0,a.jsx)("br",{}),"Contribute to"," ",(0,a.jsx)("a",{href:"https://github.com/frouriojs/create-frourio-app",target:"_brank",title:"frouriojs/create-frourio-app",children:"GitHub"})," ","in React.js"]})]}),!k&&"installing"===(null===n||void 0===n?void 0:n.status)&&(0,a.jsx)("div",{className:z().installing,children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:z().installingTitle,children:"Installing and start project on terminal..."}),(0,a.jsx)(L.$3,{flipId:"flip-console",children:(0,a.jsx)("div",{children:(0,a.jsx)(R,{log:P})})}),(0,a.jsx)(N,{onClick:function(){return I(!0)},children:"Close"}),(0,a.jsx)(L.$3,{flipId:"credits",children:(0,a.jsx)("div",{children:(0,a.jsx)(ae,{})})})]})})]})},oe=function(){var e=b(),n=o()(e.status),t=n.data,r=n.mutate;return(0,a.jsx)(re,{serverStatus:t,mutate:r,useServer:!0})}},214:function(e){e.exports={logo:"Home_logo__27_tb",main:"Home_main__nLjiQ",title:"Home_title__T09hD",description:"Home_description__41Owk",contribution:"Home_contribution___eWcu",installing:"Home_installing__lDZC1",installingTitle:"Home_installingTitle__f830V",installingDesc:"Home_installingDesc__KUxJl",star:"Home_star__m_6Ok",starDesc:"Home_starDesc__t215p"}},4182:function(e){e.exports={container:"PrimaryButton_container__Wj7RN",btn:"PrimaryButton_btn__41KDa",disabled:"PrimaryButton_disabled__WxFkM"}},2839:function(e){e.exports={card:"Question_card__OAJCM",message:"Question_message__kTUP2",error:"Question_error__l7tNU",ctrls:"Question_ctrls__QkRuT",btn:"Question_btn__lRqik",disabled:"Question_disabled__sFXV4",radioIcon:"Question_radioIcon__3eCmL",active:"Question_active__d8YNs",note:"Question_note__1KJjY",info:"Question_info__cwSgJ",warn:"Question_warn__ElTa7",hint:"Question_hint__GASAy"}},6009:function(e){e.exports={container:"TerminalConsole_container__NdYU2",rounded:"TerminalConsole_rounded__Ff1IW"}}},function(e){e.O(0,[689,774,888,179],(function(){return n=8312,e(e.s=n);var n}));var n=e.O();_N_E=n}]);